{
  "address": "0xB972dEb3bDbAD1b9BC22BAfd0139408798FA00AA",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_identityRegistry",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "agentId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "clientAddress",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint64",
          "name": "feedbackIndex",
          "type": "uint64"
        }
      ],
      "name": "FeedbackRevoked",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "agentId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "clientAddress",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint8",
          "name": "score",
          "type": "uint8"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "tag1",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "tag2",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "fileuri",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "filehash",
          "type": "bytes32"
        }
      ],
      "name": "NewFeedback",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "agentId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "clientAddress",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint64",
          "name": "feedbackIndex",
          "type": "uint64"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "responder",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "responseUri",
          "type": "string"
        }
      ],
      "name": "ResponseAppended",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "agentId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "clientAddress",
          "type": "address"
        },
        {
          "internalType": "uint64",
          "name": "feedbackIndex",
          "type": "uint64"
        },
        {
          "internalType": "string",
          "name": "responseUri",
          "type": "string"
        },
        {
          "internalType": "bytes32",
          "name": "responseHash",
          "type": "bytes32"
        }
      ],
      "name": "appendResponse",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getIdentityRegistry",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "agentId",
          "type": "uint256"
        },
        {
          "internalType": "address[]",
          "name": "clientAddresses",
          "type": "address[]"
        },
        {
          "internalType": "bytes32",
          "name": "tag1",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "tag2",
          "type": "bytes32"
        }
      ],
      "name": "getSummary",
      "outputs": [
        {
          "internalType": "uint64",
          "name": "count",
          "type": "uint64"
        },
        {
          "internalType": "uint8",
          "name": "averageScore",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "agentId",
          "type": "uint256"
        },
        {
          "internalType": "uint8",
          "name": "score",
          "type": "uint8"
        },
        {
          "internalType": "bytes32",
          "name": "tag1",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "tag2",
          "type": "bytes32"
        },
        {
          "internalType": "string",
          "name": "fileuri",
          "type": "string"
        },
        {
          "internalType": "bytes32",
          "name": "filehash",
          "type": "bytes32"
        },
        {
          "internalType": "bytes",
          "name": "feedbackAuth",
          "type": "bytes"
        }
      ],
      "name": "giveFeedback",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "identityRegistry",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "agentId",
          "type": "uint256"
        },
        {
          "internalType": "uint64",
          "name": "feedbackIndex",
          "type": "uint64"
        }
      ],
      "name": "revokeFeedback",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0x9e248134986d89c84eeb759b02220ad334508c39cf9b6900446c3c091b87c700",
  "receipt": {
    "to": null,
    "from": "0xa4C6396DD63fF1D71c3C9F9eFC8Af585A2d7EA88",
    "contractAddress": "0xB972dEb3bDbAD1b9BC22BAfd0139408798FA00AA",
    "transactionIndex": 0,
    "gasUsed": "738492",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0xca107ce5ce20fa51ab874014e1973479679cfcf538ebadd087de2dd470dd343b",
    "transactionHash": "0x9e248134986d89c84eeb759b02220ad334508c39cf9b6900446c3c091b87c700",
    "logs": [],
    "blockNumber": 14505113,
    "cumulativeGasUsed": "738492",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0xF3106a2Ff8BdBD7ba6CCb68bED46FE29FA244BC4"
  ],
  "numDeployments": 1,
  "solcInputHash": "948b2c380f4a1ba554dd082b63f0375b",
  "metadata": "{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_identityRegistry\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"agentId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"clientAddress\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint64\",\"name\":\"feedbackIndex\",\"type\":\"uint64\"}],\"name\":\"FeedbackRevoked\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"agentId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"clientAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint8\",\"name\":\"score\",\"type\":\"uint8\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"tag1\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"tag2\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"fileuri\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"filehash\",\"type\":\"bytes32\"}],\"name\":\"NewFeedback\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"agentId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"clientAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint64\",\"name\":\"feedbackIndex\",\"type\":\"uint64\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"responder\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"responseUri\",\"type\":\"string\"}],\"name\":\"ResponseAppended\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"agentId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"clientAddress\",\"type\":\"address\"},{\"internalType\":\"uint64\",\"name\":\"feedbackIndex\",\"type\":\"uint64\"},{\"internalType\":\"string\",\"name\":\"responseUri\",\"type\":\"string\"},{\"internalType\":\"bytes32\",\"name\":\"responseHash\",\"type\":\"bytes32\"}],\"name\":\"appendResponse\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getIdentityRegistry\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"agentId\",\"type\":\"uint256\"},{\"internalType\":\"address[]\",\"name\":\"clientAddresses\",\"type\":\"address[]\"},{\"internalType\":\"bytes32\",\"name\":\"tag1\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"tag2\",\"type\":\"bytes32\"}],\"name\":\"getSummary\",\"outputs\":[{\"internalType\":\"uint64\",\"name\":\"count\",\"type\":\"uint64\"},{\"internalType\":\"uint8\",\"name\":\"averageScore\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"agentId\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"score\",\"type\":\"uint8\"},{\"internalType\":\"bytes32\",\"name\":\"tag1\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"tag2\",\"type\":\"bytes32\"},{\"internalType\":\"string\",\"name\":\"fileuri\",\"type\":\"string\"},{\"internalType\":\"bytes32\",\"name\":\"filehash\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"feedbackAuth\",\"type\":\"bytes\"}],\"name\":\"giveFeedback\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"identityRegistry\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"agentId\",\"type\":\"uint256\"},{\"internalType\":\"uint64\",\"name\":\"feedbackIndex\",\"type\":\"uint64\"}],\"name\":\"revokeFeedback\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"title\":\"ReputationRegistry\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"notice\":\"Implementation of the ERC-8004 Reputation Registry.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/ReputationRegistry.sol\":\"ReputationRegistry\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/ReputationRegistry.sol\":{\"content\":\"// SPDX-License-Identifier: CC0-1.0\\npragma solidity >=0.8.0 <0.9.0;\\n\\ninterface IIdentityRegistry {\\n    function ownerOf(uint256 tokenId) external view returns (address);\\n}\\n\\n/**\\n * @title ReputationRegistry\\n * @notice Implementation of the ERC-8004 Reputation Registry.\\n */\\ncontract ReputationRegistry {\\n    address public immutable identityRegistry;\\n\\n    struct Feedback {\\n        uint256 agentId;\\n        address clientAddress;\\n        uint8 score;\\n        bytes32 tag1;\\n        bytes32 tag2;\\n        string fileuri;\\n        bytes32 filehash;\\n        bool isRevoked;\\n    }\\n\\n    // agentId => clientAddress => Feedback[]\\n    mapping(uint256 => mapping(address => Feedback[])) private _feedbacks;\\n    \\n    // agentId => clientAddress => lastIndex (count of feedbacks)\\n    mapping(uint256 => mapping(address => uint64)) private _feedbackCounts;\\n\\n    event NewFeedback(uint256 indexed agentId, address indexed clientAddress, uint8 score, bytes32 indexed tag1, bytes32 tag2, string fileuri, bytes32 filehash);\\n    event FeedbackRevoked(uint256 indexed agentId, address indexed clientAddress, uint64 indexed feedbackIndex);\\n    event ResponseAppended(uint256 indexed agentId, address indexed clientAddress, uint64 feedbackIndex, address indexed responder, string responseUri);\\n\\n    constructor(address _identityRegistry) {\\n        identityRegistry = _identityRegistry;\\n    }\\n\\n    function getIdentityRegistry() external view returns (address) {\\n        return identityRegistry;\\n    }\\n\\n    function giveFeedback(\\n        uint256 agentId,\\n        uint8 score,\\n        bytes32 tag1,\\n        bytes32 tag2,\\n        string calldata fileuri,\\n        bytes32 filehash,\\n        bytes memory feedbackAuth\\n    ) external {\\n        require(score <= 100, \\\"Score must be between 0 and 100\\\");\\n        \\n        // TODO: Implement full EIP-712/191 signature verification for feedbackAuth.\\n        // For this implementation, we will assume the caller is authorized if they are the clientAddress\\n        // or if we implement a simplified check.\\n        // The spec implies the AGENT authorizes the CLIENT.\\n        // For simplicity in this MVP+ phase, we will allow anyone to give feedback as themselves (clientAddress = msg.sender).\\n        // Real implementation would verify the agent signed a permit for msg.sender.\\n        \\n        address clientAddress = msg.sender; \\n\\n        _feedbacks[agentId][clientAddress].push(Feedback({\\n            agentId: agentId,\\n            clientAddress: clientAddress,\\n            score: score,\\n            tag1: tag1,\\n            tag2: tag2,\\n            fileuri: fileuri,\\n            filehash: filehash,\\n            isRevoked: false\\n        }));\\n\\n        _feedbackCounts[agentId][clientAddress]++;\\n\\n        emit NewFeedback(agentId, clientAddress, score, tag1, tag2, fileuri, filehash);\\n    }\\n\\n    function revokeFeedback(uint256 agentId, uint64 feedbackIndex) external {\\n        require(feedbackIndex < _feedbacks[agentId][msg.sender].length, \\\"Index out of bounds\\\");\\n        Feedback storage fb = _feedbacks[agentId][msg.sender][feedbackIndex];\\n        require(!fb.isRevoked, \\\"Already revoked\\\");\\n        \\n        fb.isRevoked = true;\\n        emit FeedbackRevoked(agentId, msg.sender, feedbackIndex);\\n    }\\n\\n    function appendResponse(uint256 agentId, address clientAddress, uint64 feedbackIndex, string calldata responseUri, bytes32 responseHash) external {\\n        // Anyone can append response? Spec says \\\"Anyone\\\".\\n        emit ResponseAppended(agentId, clientAddress, feedbackIndex, msg.sender, responseUri);\\n    }\\n\\n    function getSummary(uint256 agentId, address[] calldata clientAddresses, bytes32 tag1, bytes32 tag2) external view returns (uint64 count, uint8 averageScore) {\\n        // Simplified aggregation logic\\n        uint256 totalScore = 0;\\n        uint64 totalCount = 0;\\n\\n        // If clientAddresses is empty, we can't iterate all (too expensive).\\n        // Spec says \\\"Without filtering by clientAddresses, results are subject to Sybil/spam attacks\\\".\\n        // It implies we should iterate provided addresses.\\n        \\n        for (uint256 i = 0; i < clientAddresses.length; i++) {\\n            address client = clientAddresses[i];\\n            uint64 limit = _feedbackCounts[agentId][client];\\n            for (uint64 j = 0; j < limit; j++) {\\n                Feedback storage fb = _feedbacks[agentId][client][j];\\n                if (!fb.isRevoked) {\\n                    // Filter by tags if provided (non-zero)\\n                    if ((tag1 == 0 || fb.tag1 == tag1) && (tag2 == 0 || fb.tag2 == tag2)) {\\n                        totalScore += fb.score;\\n                        totalCount++;\\n                    }\\n                }\\n            }\\n        }\\n\\n        if (totalCount > 0) {\\n            averageScore = uint8(totalScore / totalCount);\\n        }\\n        return (totalCount, averageScore);\\n    }\\n}\\n\",\"keccak256\":\"0xa9eb72020c7721beb8c4beff143f1f8ef3578bfcdc6e21e41b1a8c47695deb15\",\"license\":\"CC0-1.0\"}},\"version\":1}",
  "bytecode": "0x60a060405234801561001057600080fd5b50604051610cda380380610cda83398101604081905261002f91610040565b6001600160a01b0316608052610070565b60006020828403121561005257600080fd5b81516001600160a01b038116811461006957600080fd5b9392505050565b608051610c4961009160003960008181606c01526101090152610c496000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063134e18f414610067578063155e5bbd146100ab57806331259cff146100c05780634ab3ca99146100f4578063bc4d861b14610107578063c2349ab21461012d575b600080fd5b61008e7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020015b60405180910390f35b6100be6100b93660046106fe565b610140565b005b6100d36100ce366004610817565b610379565b604080516001600160401b03909316835260ff9091166020830152016100a2565b6100be6101023660046108c0565b61050b565b7f000000000000000000000000000000000000000000000000000000000000000061008e565b6100be61013b366004610903565b610648565b60648760ff1611156101995760405162461bcd60e51b815260206004820152601f60248201527f53636f7265206d757374206265206265747765656e203020616e64203130300060448201526064015b60405180910390fd5b60008881526020818152604080832033808552908352928190208151610100810183528c815280840185905260ff8c1681840152606081018b9052608081018a90528251601f89018590048502810185019093528783529092909160a0830191899089908190840183828082843760009201829052509385525050506020808301889052604092830182905284546001818101875595835291819020845160079093020191825583015193810180549284015160ff16600160a01b026001600160a81b03199093166001600160a01b039095169490941791909117909255606081015160028301556080810151600383015560a081015190919060048201906102a29082610a02565b5060c0820151600582015560e0909101516006909101805460ff191691151591909117905560008981526001602090815260408083206001600160a01b0385168452909152812080546001600160401b0316916102fe83610ad7565b91906101000a8154816001600160401b0302191690836001600160401b031602179055505086816001600160a01b03168a7f54b3254e4cc01969e70376d20390cc2f6af90539d9adaa78a53ebcda17f781548b8a8a8a8a604051610366959493929190610b26565b60405180910390a4505050505050505050565b60008060008060005b878110156104d857600089898381811061039e5761039e610b5b565b90506020020160208101906103b39190610b71565b60008c81526001602090815260408083206001600160a01b03851684529091528120549192506001600160401b03909116905b816001600160401b0316816001600160401b031610156104c25760008d8152602081815260408083206001600160a01b0387168452909152812080546001600160401b03841690811061043b5761043b610b5b565b60009182526020909120600790910201600681015490915060ff166104af578a158061046a57508a8160020154145b801561048157508915806104815750898160030154145b156104af57600181015461049f90600160a01b900460ff1688610b93565b9650856104ab81610ad7565b9650505b50806104ba81610ad7565b9150506103e6565b50505080806104d090610bac565b915050610382565b506001600160401b038116156104fe576104fb6001600160401b03821683610bc5565b92505b9250509550959350505050565b6000828152602081815260408083203384529091529020546001600160401b038216106105705760405162461bcd60e51b8152602060048201526013602482015272496e646578206f7574206f6620626f756e647360681b6044820152606401610190565b600082815260208181526040808320338452909152812080546001600160401b0384169081106105a2576105a2610b5b565b60009182526020909120600790910201600681015490915060ff16156105fc5760405162461bcd60e51b815260206004820152600f60248201526e105b1c9958591e481c995d9bdad959608a1b6044820152606401610190565b60068101805460ff191660011790556040516001600160401b03831690339085907f25156fd3288212246d8b008d5921fde376c71ed14ac2e072a506eb06fde6d09d90600090a4505050565b336001600160a01b0316856001600160a01b0316877f91a4f57c12b47a488ba7365f0e60d24a1348fc94afddf6c60e0e22b01836540887878760405161069093929190610be7565b60405180910390a4505050505050565b60008083601f8401126106b257600080fd5b5081356001600160401b038111156106c957600080fd5b6020830191508360208285010111156106e157600080fd5b9250929050565b634e487b7160e01b600052604160045260246000fd5b60008060008060008060008060e0898b03121561071a57600080fd5b88359750602089013560ff8116811461073257600080fd5b9650604089013595506060890135945060808901356001600160401b038082111561075c57600080fd5b6107688c838d016106a0565b909650945060a08b0135935060c08b013591508082111561078857600080fd5b818b0191508b601f83011261079c57600080fd5b8135818111156107ae576107ae6106e8565b604051601f8201601f19908116603f011681019083821181831017156107d6576107d66106e8565b816040528281528e60208487010111156107ef57600080fd5b8260208601602083013760006020848301015280955050505050509295985092959890939650565b60008060008060006080868803121561082f57600080fd5b8535945060208601356001600160401b038082111561084d57600080fd5b818801915088601f83011261086157600080fd5b81358181111561087057600080fd5b8960208260051b850101111561088557600080fd5b9699602092909201985095966040810135965060600135945092505050565b80356001600160401b03811681146108bb57600080fd5b919050565b600080604083850312156108d357600080fd5b823591506108e3602084016108a4565b90509250929050565b80356001600160a01b03811681146108bb57600080fd5b60008060008060008060a0878903121561091c57600080fd5b8635955061092c602088016108ec565b945061093a604088016108a4565b935060608701356001600160401b0381111561095557600080fd5b61096189828a016106a0565b979a9699509497949695608090950135949350505050565b600181811c9082168061098d57607f821691505b6020821081036109ad57634e487b7160e01b600052602260045260246000fd5b50919050565b601f8211156109fd57600081815260208120601f850160051c810160208610156109da5750805b601f850160051c820191505b818110156109f9578281556001016109e6565b5050505b505050565b81516001600160401b03811115610a1b57610a1b6106e8565b610a2f81610a298454610979565b846109b3565b602080601f831160018114610a645760008415610a4c5750858301515b600019600386901b1c1916600185901b1785556109f9565b600085815260208120601f198616915b82811015610a9357888601518255948401946001909101908401610a74565b5085821015610ab15787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b634e487b7160e01b600052601160045260246000fd5b60006001600160401b03808316818103610af357610af3610ac1565b6001019392505050565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b60ff86168152846020820152608060408201526000610b49608083018587610afd565b90508260608301529695505050505050565b634e487b7160e01b600052603260045260246000fd5b600060208284031215610b8357600080fd5b610b8c826108ec565b9392505050565b80820180821115610ba657610ba6610ac1565b92915050565b600060018201610bbe57610bbe610ac1565b5060010190565b600082610be257634e487b7160e01b600052601260045260246000fd5b500490565b6001600160401b0384168152604060208201526000610c0a604083018486610afd565b9594505050505056fea2646970667358221220be9960bb158b2d36b701ab1dee7ed4edec804049524843c6ac167bba7705e28c64736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100625760003560e01c8063134e18f414610067578063155e5bbd146100ab57806331259cff146100c05780634ab3ca99146100f4578063bc4d861b14610107578063c2349ab21461012d575b600080fd5b61008e7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020015b60405180910390f35b6100be6100b93660046106fe565b610140565b005b6100d36100ce366004610817565b610379565b604080516001600160401b03909316835260ff9091166020830152016100a2565b6100be6101023660046108c0565b61050b565b7f000000000000000000000000000000000000000000000000000000000000000061008e565b6100be61013b366004610903565b610648565b60648760ff1611156101995760405162461bcd60e51b815260206004820152601f60248201527f53636f7265206d757374206265206265747765656e203020616e64203130300060448201526064015b60405180910390fd5b60008881526020818152604080832033808552908352928190208151610100810183528c815280840185905260ff8c1681840152606081018b9052608081018a90528251601f89018590048502810185019093528783529092909160a0830191899089908190840183828082843760009201829052509385525050506020808301889052604092830182905284546001818101875595835291819020845160079093020191825583015193810180549284015160ff16600160a01b026001600160a81b03199093166001600160a01b039095169490941791909117909255606081015160028301556080810151600383015560a081015190919060048201906102a29082610a02565b5060c0820151600582015560e0909101516006909101805460ff191691151591909117905560008981526001602090815260408083206001600160a01b0385168452909152812080546001600160401b0316916102fe83610ad7565b91906101000a8154816001600160401b0302191690836001600160401b031602179055505086816001600160a01b03168a7f54b3254e4cc01969e70376d20390cc2f6af90539d9adaa78a53ebcda17f781548b8a8a8a8a604051610366959493929190610b26565b60405180910390a4505050505050505050565b60008060008060005b878110156104d857600089898381811061039e5761039e610b5b565b90506020020160208101906103b39190610b71565b60008c81526001602090815260408083206001600160a01b03851684529091528120549192506001600160401b03909116905b816001600160401b0316816001600160401b031610156104c25760008d8152602081815260408083206001600160a01b0387168452909152812080546001600160401b03841690811061043b5761043b610b5b565b60009182526020909120600790910201600681015490915060ff166104af578a158061046a57508a8160020154145b801561048157508915806104815750898160030154145b156104af57600181015461049f90600160a01b900460ff1688610b93565b9650856104ab81610ad7565b9650505b50806104ba81610ad7565b9150506103e6565b50505080806104d090610bac565b915050610382565b506001600160401b038116156104fe576104fb6001600160401b03821683610bc5565b92505b9250509550959350505050565b6000828152602081815260408083203384529091529020546001600160401b038216106105705760405162461bcd60e51b8152602060048201526013602482015272496e646578206f7574206f6620626f756e647360681b6044820152606401610190565b600082815260208181526040808320338452909152812080546001600160401b0384169081106105a2576105a2610b5b565b60009182526020909120600790910201600681015490915060ff16156105fc5760405162461bcd60e51b815260206004820152600f60248201526e105b1c9958591e481c995d9bdad959608a1b6044820152606401610190565b60068101805460ff191660011790556040516001600160401b03831690339085907f25156fd3288212246d8b008d5921fde376c71ed14ac2e072a506eb06fde6d09d90600090a4505050565b336001600160a01b0316856001600160a01b0316877f91a4f57c12b47a488ba7365f0e60d24a1348fc94afddf6c60e0e22b01836540887878760405161069093929190610be7565b60405180910390a4505050505050565b60008083601f8401126106b257600080fd5b5081356001600160401b038111156106c957600080fd5b6020830191508360208285010111156106e157600080fd5b9250929050565b634e487b7160e01b600052604160045260246000fd5b60008060008060008060008060e0898b03121561071a57600080fd5b88359750602089013560ff8116811461073257600080fd5b9650604089013595506060890135945060808901356001600160401b038082111561075c57600080fd5b6107688c838d016106a0565b909650945060a08b0135935060c08b013591508082111561078857600080fd5b818b0191508b601f83011261079c57600080fd5b8135818111156107ae576107ae6106e8565b604051601f8201601f19908116603f011681019083821181831017156107d6576107d66106e8565b816040528281528e60208487010111156107ef57600080fd5b8260208601602083013760006020848301015280955050505050509295985092959890939650565b60008060008060006080868803121561082f57600080fd5b8535945060208601356001600160401b038082111561084d57600080fd5b818801915088601f83011261086157600080fd5b81358181111561087057600080fd5b8960208260051b850101111561088557600080fd5b9699602092909201985095966040810135965060600135945092505050565b80356001600160401b03811681146108bb57600080fd5b919050565b600080604083850312156108d357600080fd5b823591506108e3602084016108a4565b90509250929050565b80356001600160a01b03811681146108bb57600080fd5b60008060008060008060a0878903121561091c57600080fd5b8635955061092c602088016108ec565b945061093a604088016108a4565b935060608701356001600160401b0381111561095557600080fd5b61096189828a016106a0565b979a9699509497949695608090950135949350505050565b600181811c9082168061098d57607f821691505b6020821081036109ad57634e487b7160e01b600052602260045260246000fd5b50919050565b601f8211156109fd57600081815260208120601f850160051c810160208610156109da5750805b601f850160051c820191505b818110156109f9578281556001016109e6565b5050505b505050565b81516001600160401b03811115610a1b57610a1b6106e8565b610a2f81610a298454610979565b846109b3565b602080601f831160018114610a645760008415610a4c5750858301515b600019600386901b1c1916600185901b1785556109f9565b600085815260208120601f198616915b82811015610a9357888601518255948401946001909101908401610a74565b5085821015610ab15787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b634e487b7160e01b600052601160045260246000fd5b60006001600160401b03808316818103610af357610af3610ac1565b6001019392505050565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b60ff86168152846020820152608060408201526000610b49608083018587610afd565b90508260608301529695505050505050565b634e487b7160e01b600052603260045260246000fd5b600060208284031215610b8357600080fd5b610b8c826108ec565b9392505050565b80820180821115610ba657610ba6610ac1565b92915050565b600060018201610bbe57610bbe610ac1565b5060010190565b600082610be257634e487b7160e01b600052601260045260246000fd5b500490565b6001600160401b0384168152604060208201526000610c0a604083018486610afd565b9594505050505056fea2646970667358221220be9960bb158b2d36b701ab1dee7ed4edec804049524843c6ac167bba7705e28c64736f6c63430008140033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "title": "ReputationRegistry",
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "notice": "Implementation of the ERC-8004 Reputation Registry.",
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 3729,
        "contract": "contracts/ReputationRegistry.sol:ReputationRegistry",
        "label": "_feedbacks",
        "offset": 0,
        "slot": "0",
        "type": "t_mapping(t_uint256,t_mapping(t_address,t_array(t_struct(Feedback)3721_storage)dyn_storage))"
      },
      {
        "astId": 3735,
        "contract": "contracts/ReputationRegistry.sol:ReputationRegistry",
        "label": "_feedbackCounts",
        "offset": 0,
        "slot": "1",
        "type": "t_mapping(t_uint256,t_mapping(t_address,t_uint64))"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_array(t_struct(Feedback)3721_storage)dyn_storage": {
        "base": "t_struct(Feedback)3721_storage",
        "encoding": "dynamic_array",
        "label": "struct ReputationRegistry.Feedback[]",
        "numberOfBytes": "32"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_bytes32": {
        "encoding": "inplace",
        "label": "bytes32",
        "numberOfBytes": "32"
      },
      "t_mapping(t_address,t_array(t_struct(Feedback)3721_storage)dyn_storage)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => struct ReputationRegistry.Feedback[])",
        "numberOfBytes": "32",
        "value": "t_array(t_struct(Feedback)3721_storage)dyn_storage"
      },
      "t_mapping(t_address,t_uint64)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => uint64)",
        "numberOfBytes": "32",
        "value": "t_uint64"
      },
      "t_mapping(t_uint256,t_mapping(t_address,t_array(t_struct(Feedback)3721_storage)dyn_storage))": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => mapping(address => struct ReputationRegistry.Feedback[]))",
        "numberOfBytes": "32",
        "value": "t_mapping(t_address,t_array(t_struct(Feedback)3721_storage)dyn_storage)"
      },
      "t_mapping(t_uint256,t_mapping(t_address,t_uint64))": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => mapping(address => uint64))",
        "numberOfBytes": "32",
        "value": "t_mapping(t_address,t_uint64)"
      },
      "t_string_storage": {
        "encoding": "bytes",
        "label": "string",
        "numberOfBytes": "32"
      },
      "t_struct(Feedback)3721_storage": {
        "encoding": "inplace",
        "label": "struct ReputationRegistry.Feedback",
        "members": [
          {
            "astId": 3706,
            "contract": "contracts/ReputationRegistry.sol:ReputationRegistry",
            "label": "agentId",
            "offset": 0,
            "slot": "0",
            "type": "t_uint256"
          },
          {
            "astId": 3708,
            "contract": "contracts/ReputationRegistry.sol:ReputationRegistry",
            "label": "clientAddress",
            "offset": 0,
            "slot": "1",
            "type": "t_address"
          },
          {
            "astId": 3710,
            "contract": "contracts/ReputationRegistry.sol:ReputationRegistry",
            "label": "score",
            "offset": 20,
            "slot": "1",
            "type": "t_uint8"
          },
          {
            "astId": 3712,
            "contract": "contracts/ReputationRegistry.sol:ReputationRegistry",
            "label": "tag1",
            "offset": 0,
            "slot": "2",
            "type": "t_bytes32"
          },
          {
            "astId": 3714,
            "contract": "contracts/ReputationRegistry.sol:ReputationRegistry",
            "label": "tag2",
            "offset": 0,
            "slot": "3",
            "type": "t_bytes32"
          },
          {
            "astId": 3716,
            "contract": "contracts/ReputationRegistry.sol:ReputationRegistry",
            "label": "fileuri",
            "offset": 0,
            "slot": "4",
            "type": "t_string_storage"
          },
          {
            "astId": 3718,
            "contract": "contracts/ReputationRegistry.sol:ReputationRegistry",
            "label": "filehash",
            "offset": 0,
            "slot": "5",
            "type": "t_bytes32"
          },
          {
            "astId": 3720,
            "contract": "contracts/ReputationRegistry.sol:ReputationRegistry",
            "label": "isRevoked",
            "offset": 0,
            "slot": "6",
            "type": "t_bool"
          }
        ],
        "numberOfBytes": "224"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      },
      "t_uint64": {
        "encoding": "inplace",
        "label": "uint64",
        "numberOfBytes": "8"
      },
      "t_uint8": {
        "encoding": "inplace",
        "label": "uint8",
        "numberOfBytes": "1"
      }
    }
  }
}